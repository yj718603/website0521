---
import introVedio from "../assets/video/mTranslator-text.mp4";

import videoBgJpg from "../assets/images/bg_video.jpg";
import videoBgWebp from "../assets/images/bg_video.webp";
import videoBgJpg2x from "../assets/images/bg_video@2x.jpg";
import videoBgWebp2x from "../assets/images/bg_video@2x.webp";
import videoBgJpg3x from "../assets/images/bg_video@3x.jpg";
import videoBgWebp3x from "../assets/images/bg_video@3x.webp";
---

<div class="introVideoContainer">
    <picture>
        <source type="image/webp" />
        <source srcset={`${videoBgWebp.src} 1x, ${videoBgWebp2x.src} 2x, ${videoBgWebp3x.src} 3x`} type="image/webp" />
        <source srcset={`${videoBgJpg.src} 1x, ${videoBgJpg2x.src} 2x, ${videoBgJpg3x.src} 3x`} type="image/jpeg" />
        <img src={videoBgJpg.src} alt="introVideo_background" />
    </picture>
    <video id="myVideo" muted autoplay loop controls>
        <source src={introVedio} type="video/mp4" />
    </video>
    <div id="introVideo"></div>
</div>

<style>
    .introVideoContainer {
        width: 100%;
        height: 875px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .introVideoContainer img,
    .introVideoContainer picture {
        width: 100%;
        max-height: 875px;
        position: relative;
    }
    video {
        position: absolute;
        max-width: 62.5%;
        border-radius: 20px;
    }
    #introVideo {
        position: absolute;
        width: 62.5%;
        max-height: 475px;
    }
</style>

<script>
    const videoContainer = document.getElementById("introVideo") as HTMLElement | null;
    const video = document.getElementById("myVideo") as HTMLVideoElement | null;

    if (videoContainer && video) {
        videoContainer.addEventListener("click", () => {
            if (video.paused) {
                video.play();
            } else {
                video.pause();
            }
        });
    }
</script>
